<dataset-create-wrapper>
    <dataset-create-header step="5" before-next-step="nextStep()"></dataset-create-header>
    <div class="well">
        <h5>Select an Unit</h5>
        <div class="reference-selection" resource="Unit" selection-mode="single" output="unit.output" input="unit.input"></div>
    </div>

    <div class="well">
        <div class="row">
            <div class="col-md-6">
                <h5>Select an Indicator or define a new one</h5>
            </div>
            <div class="col-md-6">
                <a href="" class="btn btn-create" id="pc-define-indicator-button" ng-click="addIndicator()">Define a Indicator</a>
            </div>
        </div>
        <div class="row" style="padding-top: 20px" ng-if="newIndicator">
            <div class="col-md-12">
                <div class="filterDatasetPaginationBody createvisualization">
                    <div class="search-results row-flex">
                        <div class="result-wrapper result-wrapper-indicator" ng-class="{'result-selected':newIndicator.selected}">
                            <div class="result-block searchItemIcon indicatorIcon" ng-click="selectNewIndicator()" title="{{ !selection[dataset._source.id]>0 && 'Select' || 'Deselect' }}" ng-cloak style="cursor: pointer">
                                <div class="search-result">
                                    <h5>
                                        <a>{{ newIndicator.name }}</a>
                                    </h5>
                                    <div class="attributes">
                                        <p>{{ newIndicator.description }}</p>
                                    </div>
                                </div>
                                <div class="texticon texticon-indicator"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
        </div>

        <div id="filterDatasets"
            class="selector-media"
            content-type="selectionConfig.contentType"
            datasets-list="selectionConfig.selection"
            number-Max-Datasets="2"
            functionfordataset="indicatorSelected()">s
        </div>
    </div>
</dataset-create-wrapper>
